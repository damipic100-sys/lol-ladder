<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>BORRALO A LA MIERDA</title>
<style>
body {
  font-family: system-ui, sans-serif;
  background: #0f172a;
  color: #e5e7eb;
  display: flex;
  justify-content: center;
  padding: 40px;
}
.card {
  background: #020617;
  padding: 24px;
  border-radius: 12px;
  width: 360px;
}
h1 {
  text-align: center;
  margin-bottom: 16px;
}
button {
  width: 100%;
  padding: 10px;
  border: none;
  border-radius: 8px;
  background: #2563eb;
  color: white;
  cursor: pointer;
}
ol {
  margin-top: 20px;
  padding-left: 20px;
}
li {
  margin-bottom: 8px;
}
</style>
</head>

<body>
<div class="card">
  <h1>LA FOKIN LADDER</h1>
  <button onclick="load()">Actualizar</button>
  <ol id="ladder"></ol>
</div>

<script>
async function load() {
  ladder.innerHTML = "cargando...";

  try {
    const r = await fetch("/api/ladder");

    if (!r.ok) {
      ladder.innerHTML = "error API (" + r.status + ")";
      return;
    }

    const data = await r.json();

    if (data.length === 0) {
      ladder.innerHTML = "Error Api";
      return;
    }

    ladder.innerHTML = "";
    data.forEach(p => {
      ladder.innerHTML +=
        `<li>${p.name} â€” ${p.tier} (${p.lp} LP)</li>`;
    });

  } catch (e) {
    ladder.innerHTML = "error de red";
    console.error(e);
  }
}
</script>

</body>
</html>
